<style>
  .section--{{ section.settings.section_width }} *:empty{
    display: inline-flex;
  }  
  .section--{{ section.settings.section_width }} .uk-position-relative {
    padding-left: 50px;
  }
</style>


<div class="
  custom-carousel-{{ section.id }} 
  color-{{ section.settings.color_scheme }} 
  spacing-style gap-style" 
  style="
  {% render 'spacing-style', settings: section.settings %} 
  {% render 'gap-style', value: section.settings.gap %}
">
  <div class="section section--{{ section.settings.section_width }}">
    <div class="uk-position-relative uk-visible-toggle" tabindex="-1" 
         uk-slider="autoplay: true; autoplay-interval: 3000; finite: true; loop: true">
      
      <div class="uk-grid-small uk-slider-items uk-child-width-1-1 uk-child-width-1-2@s uk-child-width-1-3@m uk-grid" 
           uk-height-match="target: .single_card">
        {% content_for 'blocks' %}
      </div>
    
      <a class="uk-position-center-left uk-position-small uk-hidden-hover" href="#" 
         uk-slidenav-previous uk-slider-item="previous"></a>
    
      <a class="uk-position-center-right uk-position-small uk-hidden-hover" href="#" 
         uk-slidenav-next uk-slider-item="next"></a>
    </div>

  </div>
</div>

{% schema %}
  {
    "name": "Custom Carousel",
    "max_blocks": 100,
    "disabled_on": {
      "groups": ["header", "footer"]
    },
    "blocks": [{"type": "@theme"},{"type": "@app"}],
    "settings": [
      {
        "type": "select",
        "id": "section_width",
        "label": "t:settings.width",
        "options": [
          {
            "value": "page-width",
            "label": "t:options.page"
          },
          {
            "value": "full-width",
            "label": "t:options.full"
          }
        ],
        "default": "page-width"
      },
      {
        "type": "color_scheme",
        "id": "color_scheme",
        "label": "t:settings.color_scheme",
        "default": "scheme-1"
      },
      {
        "type": "header",
        "content": "t:content.padding"
      },
      {
        "type": "range",
        "id": "padding-block-start",
        "label": "t:settings.top",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 0
      },
      {
        "type": "range",
        "id": "padding-block-end",
        "label": "t:settings.bottom",
        "min": 0,
        "max": 100,
        "step": 1,
        "unit": "px",
        "default": 0
      }
    ],
    "presets": [
      {
        "name": "Custom Carousel",
        "category": "Carousel",
        "settings": {
          "section_width": "page-width",
          "padding-block-start": 24,
          "padding-block-end": 24
        }
      }
    ]
  }
{% endschema %}